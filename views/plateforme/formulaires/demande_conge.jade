extends ../layout
append cscripts
    // Data table CSS
    link(href='/vendors/bower_components/datatables/media/css/jquery.dataTables.min.css', rel='stylesheet', type='text/css')
    // select2 CSS
    link(href='/vendors/bower_components/select2/dist/css/select2.min.css', rel='stylesheet', type='text/css')
    link(href='/vendors/bower_components/eonasdan-bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css', rel='stylesheet', type='text/css')
    link(href='/vendors/bower_components/filament-tablesaw/dist/tablesaw.css', rel='stylesheet', type='text/css')
    link(href='/vendors/bower_components/bootstrap-daterangepicker/daterangepicker.css', rel='stylesheet', type='text/css')
block contenu
    // Row
    .row
      .panel.panel-default.card-view
        .panel-heading
          .pull-left
            h6.panel-title.txt-dark
              h3 Nouvelle demande de congé
          .pull-right
            a.button.btn.btn-primary(href='/users/mon-espace') Mon espace
          .clearfix
        .panel-wrapper.collapse.in
          .panel-body
            .row
              .form-wrap
                form(method='POST' action='')
                  if user
                    .row.ml-10
                      .form-group.col-sm-2.col-xs-12
                        label.control-label.mb-10(for='')
                          | Matricule 
                          span(style='color: red') *
                        .input-group
                          .input-group-addon
                            i.zmdi.zmdi-pin-account
                          input.form-control(type='text', placeholder='' name='matricule' value=(undefined===user.matricule ? '' : user.matricule), disabled )
                          input(type='hidden' name='userid' value=user._id)
                      .form-group.col-sm-4.col-xs-12
                        label.control-label.mb-10(for='')
                          | Prénom & Nom 
                          span(style='color: red') *
                        .input-group
                          .input-group-addon
                            i.zmdi.zmdi-pin-account
                          - var user_pn = user.prenom + ' ' + user.nom
                          input.form-control(type='text', placeholder='' name='user_pn' value=(undefined===user ? '' : user_pn), disabled )
                      .form-group.col-sm-4.col-xs-12
                        label.control-label.mb-10
                          | Type de congé
                          span(style='color: red') *
                        select.text-capitalize#chapitre.form-control(type='select', name='type_conge' required='true' )
                          option(value='') Choisissez le type de congé
                          for congestype in congestypes
                            option(value=congestype._id ) #{congestype.nom}
                              
                    .row
                        .col-md-12
                            .panel.panel-default.card-view
                                .panel-heading
                                    .pull-left
                                        h6.panel-title.txt-dark
                                            | Date de départ et de retour
                                            span(style='color: red') *
                                    .clearfix
                                .panel-wrapper.collapse.in
                                    .panel-body
                                        .form-group.col-sm-6.col-xs-12
                                            input.form-control.input-limit-datepicker(type='text', name='daterange',required)
                    .row
                      .col-md-12
                        .panel.panel-default.card-view
                          .panel-heading
                            .pull-left
                              h6.panel-title.txt-dark Rédiger la demande
                            .clearfix
                          .panel-wrapper.collapse.in
                            .panel-body
                              textarea.tinymce(type='text', name='corps_d')
                    // /Row
                    button.btn.btn-success.ml-15.mr-10.mt-100.col-sm-2.col-xs-12(type='submit') Valider
                    button.btn.btn-default.mt-100.col-sm-2.col-xs-12(type='cancel') Annuler

                    if errors
                      ul
                        for error in errors
                          li!= error.msg
    // /Row

append jscripts
    // Tinymce JavaScript
    script(src='/vendors/bower_components/tinymce/tinymce.min.js')
    // Tinymce Wysuhtml5 Init JavaScript
    script(src='/javascripts/admin-js/tinymce-data.js')
    // Slimscroll JavaScript
    script(src='/javascripts/admin-js/jquery.slimscroll.js')
    // Owl JavaScript
    script(src='/vendors/bower_components/owl.carousel/dist/owl.carousel.min.js')
    // Switchery JavaScript
    script(src='/vendors/bower_components/switchery/dist/switchery.min.js')
    // Fancy Dropdown JS
    script(src='/vendors/bower_components/moment/min/moment-with-locales.min.js')
    script(src='/vendors/bower_components/mjolnic-bootstrap-colorpicker/dist/js/bootstrap-colorpicker.min.js')
    script(src='/vendors/bower_components/eonasdan-bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js')
    script(src='/vendors/bower_components/bootstrap-daterangepicker/daterangepicker.js')
    script(src='/javascripts/admin-js/dropdown-bootstrap-extended.js')
    // Init JavaScript
    script(src='/javascripts/admin-js/init.js')
    script(src='/javascripts/admin-js/custom.js')
    script(src='/vendors/bower_components/datatables/media/js/jquery.dataTables.min.js')
    script(src='/javascripts/admin-js/dataTables-data.js')

  